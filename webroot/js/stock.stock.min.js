Vue.component("table-row-filter",{props:{search:{type:String,required:!0},products:{type:Array,required:!0}},template:'<input type="text" v-model="filterRow" :search="search" autocomplete="off" placeholder="Search">',data:()=>({filterRow:"",searchResultsCount:0}),watch:{filterRow(e){e?this.products.forEach(t=>{t[this.search]?t.hidden=-1==t[this.search].toLowerCase().indexOf(e.toLowerCase()):t.hidden=!0}):this.products.forEach(e=>{e.hidden=!1}),this.searchResultsCount=this.products.filter(e=>!0!==e.hidden).length}}}),new Vue({el:"table",data:{products:[]},created(){fetch("stock.json").then(e=>e.json()).then(e=>{this.products=e,this.searchResultsCount=e.length}).catch(e=>console.log(e))},filters:{toCurrency:e=>new Intl.NumberFormat("hu-HU",{style:"currency",currency:"HUF",minimumFractionDigits:0}).format(e),toNum:(e,t)=>t?e:parseInt(e)}});