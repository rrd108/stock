Vue.component("table-row-filter",{props:["search","products"],template:'<input type="text" v-model="filterRow" :search="search" autocomplete="off" placeholder="Search">',data:()=>({filterRow:"",searchResultsCount:0}),watch:{filterRow(t){t?this.products.forEach(e=>{e[this.search]?e.hidden=-1==e[this.search].toLowerCase().indexOf(t.toLowerCase()):e.hidden=!0}):this.products.forEach(t=>{t.hidden=!1}),this.searchResultsCount=this.products.filter(t=>!0!==t.hidden).length}}}),new Vue({el:"table",data:{products:[]},created(){fetch("stock.json").then(t=>t.json()).then(t=>{this.products=t,this.searchResultsCount=t.length}).catch(t=>console.log(t))},filters:{toCurrency:t=>new Intl.NumberFormat("hu-HU",{style:"currency",currency:"HUF",minimumFractionDigits:0}).format(t),toNum:(t,e)=>e?t:parseInt(t)}});