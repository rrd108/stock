new Vue({el:"table",data:()=>({products:[],filterByName:"",filterByCode:"",searchResultsCount:0}),watch:{filterByName(t){this.filterOut(t,"name")},filterByCode(t){this.filterOut(t,"code")}},methods:{filterOut(t,e){t?this.products.forEach(r=>{r[e]?r.hidden=-1==r[e].toLowerCase().indexOf(t.toLowerCase()):r.hidden=!0}):this.products.forEach(t=>{t.hidden=!1}),this.searchResultsCount=this.products.filter(t=>!0!==t.hidden).length}},created(){fetch("stock.json").then(t=>t.json()).then(t=>{this.products=t,this.searchResultsCount=t.length}).catch(t=>console.log(t))},filters:{toCurrency:t=>new Intl.NumberFormat("hu-HU",{style:"currency",currency:"HUF",minimumFractionDigits:0}).format(t),toNum:(t,e)=>e?t:parseInt(t)}});